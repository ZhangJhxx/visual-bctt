(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42236142"],{"00a2":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:22,offset:1,xs:{span:24,offset:0}}},[r("el-form",{ref:"form",attrs:{"label-width":"auto",model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:e.$t("postTransation.originatingAddress")}},[r("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},model:{value:e.form.from,callback:function(t){e.$set(e.form,"from",t)},expression:"form.from"}},e._l(e.userList,(function(t){return r("el-option",{key:t.address,attrs:{label:t.address,value:t.address},nativeOn:{click:function(r){return e.chooseSender(t)}}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("postTransation.privateKey")}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.private_key,callback:function(t){e.$set(e.form,"private_key",t)},expression:"form.private_key"}})],1),r("el-form-item",{attrs:{label:e.$t("postTransation.publicKey")}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.public_key,callback:function(t){e.$set(e.form,"public_key",t)},expression:"form.public_key"}})],1),r("el-form-item",{attrs:{prop:"to",label:e.$t("postTransation.receivingAddress"),required:""}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.form.to,callback:function(t){e.$set(e.form,"to",t)},expression:"form.to"}},e._l(e.userList,(function(t){return r("el-option",{key:t.address,attrs:{label:t.address,value:t.address},nativeOn:{click:function(r){return e.chooseReceiver(t)}}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("postTransation.amount"),prop:"value",required:""}},[r("el-input",{attrs:{maxlength:"10"},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),r("el-button",{attrs:{type:"primary",disabled:e.disable},on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.$t("postTransation.initiateTransaction")))])],1)],1)],1)},n=[],s=r("a78e"),a=r.n(s),i=r("619d"),c={data:function(){return{q:{type:"getAllAccounts",parameters:[]},userList:[],form:{private_key:"",public_key:"",from:"",to:"",contract:"",value:100,method:"",dest:"",args:"{}",type:0},disable:!1,rules:{value:[{required:!0,message:"请输入转账金额",trigger:"blur"},{validator:this.validateValue,trigger:"blur"}],to:[{required:!0,message:"请输入转账地址",trigger:"change"},{validator:this.validateToAddress,trigger:"change"}]}}},created:function(){this.getAllAccounts()},methods:{validateValue:function(e,t,r){var o=/^\d+$/g;""===t||"0"===t?(this.disable=!0,r(new Error("金额需大于0"))):o.test(t)?(this.disable=!1,r()):(this.disable=!0,r(new Error("金额需为正整数")))},validateToAddress:function(e,t,r){t===this.form.from?(this.disable=!0,r(new Error("接收地址不能与发起地址一致"))):(this.disable=!1,r())},submitForm:function(e){var t=this;this.disable=!0,setTimeout((function(){t.disable=!1}),1e3),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$confirm("<div>\n              <span>是否向地址</span>\n              <i>".concat(t.form.to,"</i>\n              <br>\n              <span>转账").concat(t.form.value,"</span>\n            </div>"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((function(){Object(i["c"])(t.form).then((function(e){""===e.error?t.$message({message:"成功提交",type:"success"}):t.$message({message:e.error,type:"warning"})}))}))}))},getAllAccounts:function(){var e=this;Object(i["d"])(this.q).then((function(t){var r=[],o=[],n=t.data;n.forEach((function(e){e.iscontract?o.push(e):r.push(e)})),e.userList=r,0===r.length?(e.form.from="",e.form.private_key="",e.form.public_key="",a.a.set("PublicKey",""),a.a.set("PrivateKey",""),a.a.set("AccountAddress","")):(e.form.from=a.a.get("AccountAddress"),e.form.private_key=a.a.get("PrivateKey"),e.form.public_key=a.a.get("PublicKey"))}))},chooseSender:function(e){this.form.from=e.address,this.form.public_key=e.publickey,this.form.private_key=e.privatekey,a.a.set("AccountAddress",e.address),a.a.set("PublicKey",e.publickey),a.a.set("PrivateKey",e.privatekey)},chooseReceiver:function(e){this.form.to=e.address}}},u=c,l=(r("38d3"),r("2877")),d=Object(l["a"])(u,o,n,!1,null,null,null);t["default"]=d.exports},"38d3":function(e,t,r){"use strict";r("e689")},"619d":function(e,t,r){"use strict";r.d(t,"c",(function(){return f})),r.d(t,"e",(function(){return m})),r.d(t,"b",(function(){return p})),r.d(t,"d",(function(){return b})),r.d(t,"a",(function(){return g}));var o=r("bc3a"),n=r.n(o),s=r("5c96"),a=r("4360"),i=r("5f87"),c=r("a78e"),u=r.n(c),l=n.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/visual-bctt/"}).VUE_APP_SSBC1_API,timeout:5e3});l.interceptors.request.use((function(e){return a["a"].getters.token&&(e.headers["X-Token"]=Object(i["a"])(),e.baseURL=u.a.get("SourceChain")),e}),(function(e){return console.log(e),Promise.reject(e)})),l.interceptors.response.use((function(e){var t=e.data;return 2e4!==t.code?(Object(s["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||s["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){a["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(s["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var d=l;function f(e){return d({url:"/postTran",method:"post",data:e})}function m(){return d({url:"/registerAccount",method:"get"})}function p(e){return d({url:"/postContract",method:"post",data:e})}function b(e){return d({url:"/query",method:"post",data:e})}function g(){return d({url:"/genCode",method:"get"})}},e689:function(e,t,r){}}]);